<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Youth Activism ‚Äî Interactive Survey (English)</title>
<meta name="description" content="Interactive youth activism survey measuring Voice, Info, Action, Leadership, Care" />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#071022;
    --mut:#b9d0e6;
    --accent1:#ff6b6b;
    --accent2:#7c3aed;
    --accent3:#06b6d4;
    --accent4:#ffd166;
    --accent5:#4ade80;
    --glass: rgba(255,255,255,0.03);
    --radius:18px;
    --shadow: 0 18px 50px rgba(2,6,23,0.7);
    --base-font:20px; /* larger base font for readability */
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:#eaf6ff;-webkit-font-smoothing:antialiased;font-size:var(--base-font)}
  .wrap{max-width:980px;margin:28px auto;padding:22px}
  header{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:18px}
  .brand{display:flex;gap:14px;align-items:center}
  .logo{
    width:84px;height:84px;border-radius:16px;
    background:linear-gradient(135deg,var(--accent2),var(--accent3));
    display:grid;place-items:center;font-weight:900;color:white;font-size:28px;
    box-shadow:0 12px 40px rgba(124,58,237,0.18)
  }
  h1{font-size:26px;margin:0}
  .tagline{color:var(--mut);font-size:16px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid rgba(255,255,255,0.03);overflow:hidden}
  .intro{display:grid;grid-template-columns:1fr 360px;gap:20px;padding:22px}
  @media (max-width:920px){.intro{grid-template-columns:1fr}}
  .pillRow{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
  .pill{background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:10px 14px;border-radius:999px;font-size:15px;color:var(--mut);display:inline-flex;align-items:center;gap:10px}
  .controls{display:flex;gap:12px;margin-top:18px;flex-wrap:wrap}
  .btn{
    padding:14px 18px;border-radius:14px;border:1px solid rgba(255,255,255,0.04);
    background:transparent;color:#eaf6ff;cursor:pointer;font-weight:800;font-size:16px;
    transition:transform .12s ease,box-shadow .12s ease
  }
  .btn:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}
  .btn.primary{background:linear-gradient(90deg,var(--accent1),var(--accent3));border:none;color:white;box-shadow:0 12px 30px rgba(6,182,212,0.12)}
  .mini{padding:16px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px}
  .cardHead{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid rgba(255,255,255,0.02)}
  .cardBody{padding:22px}
  .prog{display:flex;align-items:center;gap:14px}
  .bar{width:340px;height:16px;border-radius:999px;background:rgba(255,255,255,0.04);overflow:hidden;border:1px solid rgba(255,255,255,0.02)}
  .fill{height:100%;width:0;background:linear-gradient(90deg,var(--accent3),var(--accent2));transition:width .45s cubic-bezier(.2,.9,.2,1)}
  .ptxt{font-size:16px;color:var(--mut);font-weight:800}
  .questionTitle{margin:0 0 16px;font-size:24px;line-height:1.12}
  .options{display:grid;gap:16px}
  .optBtn{
    display:flex;align-items:center;gap:18px;padding:16px;border-radius:14px;border:1px solid rgba(255,255,255,0.03);
    background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));cursor:pointer;transition:transform .12s ease,box-shadow .12s ease;
    font-size:18px;font-weight:800;color:#eaf6ff
  }
  .optBtn:hover{transform:translateY(-8px);box-shadow:0 22px 50px rgba(2,6,23,0.7)}
  .optEmoji{
    width:84px;height:84px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    display:grid;place-items:center;font-size:40px;font-weight:900;color:#071022
  }
  .optText{flex:1}
  .optSub{font-size:15px;color:var(--mut);font-weight:700;margin-top:8px}
  .small{font-size:15px;color:var(--mut);margin-top:14px}
  .resultGrid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
  @media (max-width:640px){.resultGrid{grid-template-columns:1fr}}
  .resultItem{
    padding:16px;border-radius:14px;background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    border:1px solid rgba(255,255,255,0.02)
  }
  .barInner{height:18px;border-radius:999px;background:rgba(255,255,255,0.04);overflow:hidden;margin-top:12px}
  .barFill{height:100%;width:0;background:linear-gradient(90deg,var(--accent2),var(--accent5));transition:width .9s cubic-bezier(.2,.9,.2,1)}
  .actionsRow{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}
  .copyBtn{background:#071022;color:#fff;padding:12px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:800}
  .avatarRow{display:flex;gap:14px;align-items:center;margin-top:16px}
  .avatar{width:84px;height:84px;border-radius:14px;background:linear-gradient(135deg,var(--accent3),var(--accent2));display:grid;place-items:center;font-weight:900;color:#071022;font-size:28px}
  .confetti{pointer-events:none;position:fixed;left:0;top:0;width:100%;height:100%;z-index:9999;display:none}
  .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true">YA</div>
        <div>
          <h1>Youth Activism</h1>
          <div class="tagline">Quick, visual survey ‚Äî discover your profile</div>
        </div>
      </div>
      <div class="tagline">15 questions ‚Ä¢ 6‚Äì10 minutes</div>
    </header>

    <!-- Intro -->
    <section class="card" aria-labelledby="introTitle">
      <div class="intro">
        <div>
          <h2 id="introTitle" style="margin:0 0 8px;font-size:26px">How do you show up when something matters?</h2>
          <p style="margin:0;color:var(--mut);font-size:17px">Answer short, real-life scenarios from school and social media. At the end you'll get a clear profile with strengths and practical next steps.</p>

          <div class="pillRow" aria-hidden="true">
            <span class="pill">üé® Visual</span>
            <span class="pill">‚ö° Fast</span>
            <span class="pill">üß† Reflective</span>
            <span class="pill">üó£Ô∏è Classroom friendly</span>
          </div>

          <div class="controls">
            <button id="startBtn" class="btn primary" aria-controls="surveyCard">Start</button>
            <button id="previewBtn" class="btn" aria-controls="resultCard">Preview profiles</button>
            <button id="restartBtn" class="btn" style="display:none">Restart</button>
          </div>

          <div class="small">Tip: use Tab + Enter to navigate. Each question changes the background color to keep energy high.</div>
        </div>

        <aside class="mini" aria-hidden="false">
          <div style="display:flex;align-items:center;justify-content:space-between">
            <strong style="font-size:16px">Teacher quick-use</strong>
            <div style="font-size:13px;color:var(--mut)">Editable</div>
          </div>
          <ul style="margin:10px 0 0 18px;padding:0;color:var(--mut);font-size:15px">
            <li>Use individually or on a projector</li>
            <li>At the end: copy results or screenshot the profile</li>
            <li>Reflection prompt: "One strength I have‚Ä¶ One step I can try"</li>
          </ul>
        </aside>
      </div>
    </section>

    <!-- Survey -->
    <section id="surveyCard" class="card" style="margin-top:18px;display:none" role="region" aria-label="Survey">
      <div class="cardHead">
        <div>
          <div style="font-size:15px;color:var(--mut)"><strong id="qLabel">Question</strong> <span id="topicTag" style="margin-left:10px"></span></div>
        </div>
        <div class="prog" aria-hidden="false">
          <div class="bar" aria-hidden="true"><div id="fill" class="fill" style="width:0%"></div></div>
          <div class="ptxt" id="ptxt">0 / 15</div>
        </div>
      </div>
      <div class="cardBody" id="body" tabindex="0"></div>
    </section>

    <!-- Results -->
    <section id="resultCard" class="card" style="margin-top:18px;display:none" role="region" aria-label="Results">
      <div class="cardHead">
        <div><strong style="font-size:18px">Your profile</strong></div>
        <div class="ptxt">Done</div>
      </div>
      <div class="cardBody" id="resultBody"></div>
    </section>

    <div class="confetti" id="confetti"></div>
  </div>

<script>
  // 15 questions (English)
  const QUESTIONS = [
    { topic:"School", title:"You hear an offensive comment in class. What do you do first?", options:[
      {title:"Address it respectfully in the moment", pts:{voice:2, leadership:1}, emoji:"üó£Ô∏è"},
      {title:"Check on the person affected", pts:{care:2, voice:1}, emoji:"ü§ù"},
      {title:"Talk privately with the person later", pts:{voice:1, info:1}, emoji:"üí¨"},
      {title:"Get a teacher involved if it's serious", pts:{action:2, leadership:1}, emoji:"üì£"},
    ]},
    { topic:"Social Media", title:"A viral post looks misleading. What do you do?", options:[
      {title:"Verify sources before sharing", pts:{info:2}, emoji:"üîé"},
      {title:"Comment to correct it respectfully", pts:{voice:2, info:1}, emoji:"‚úçÔ∏è"},
      {title:"Report it if it's harmful", pts:{action:2}, emoji:"üö©"},
      {title:"Create an informative response post", pts:{leadership:2, voice:1}, emoji:"üé¨"},
    ]},
    { topic:"Participation", title:"Your school asks for volunteers. You usually:", options:[
      {title:"Handle practical tasks", pts:{action:2, leadership:1}, emoji:"üõ†Ô∏è"},
      {title:"Do the promotion online", pts:{voice:2, info:1}, emoji:"üì£"},
      {title:"Make the event welcoming", pts:{care:2, voice:1}, emoji:"ü§ó"},
      {title:"Research and propose improvements", pts:{info:2, action:1}, emoji:"üìä"},
    ]},
    { topic:"Conflict", title:"Your group is arguing and stuck. What do you do?", options:[
      {title:"Create fair turn-taking", pts:{voice:2, care:1}, emoji:"üß≠"},
      {title:"Divide clear roles and tasks", pts:{action:2, leadership:1}, emoji:"üß©"},
      {title:"Ask for evidence and sources", pts:{info:2}, emoji:"üìö"},
      {title:"Propose a quick plan to move forward", pts:{leadership:2, action:1}, emoji:"‚ö°"},
    ]},
    { topic:"Impact", title:"Which project excites you most right now?", options:[
      {title:"Improve something practical at school", pts:{action:2, leadership:1}, emoji:"üè´"},
      {title:"Run a creative awareness campaign", pts:{voice:2, info:1}, emoji:"üé®"},
      {title:"Support belonging and inclusion", pts:{care:2, voice:1}, emoji:"üíû"},
      {title:"Survey and propose solutions", pts:{info:2, action:1}, emoji:"üìã"},
    ]},
    { topic:"Motivation", title:"When you're nervous, what helps most?", options:[
      {title:"Do it with someone", pts:{care:1, leadership:1}, emoji:"üë•"},
      {title:"Break it into a clear small step", pts:{info:2}, emoji:"ü™ú"},
      {title:"Start with a quick visible win", pts:{action:2}, emoji:"‚öôÔ∏è"},
      {title:"Remind yourself why it matters", pts:{leadership:2, voice:1}, emoji:"üî•"},
    ]},
    { topic:"Listening", title:"Someone shares a personal concern. You:", options:[
      {title:"Listen and reflect back", pts:{care:2, voice:1}, emoji:"üëÇ"},
      {title:"Ask clarifying questions", pts:{info:2}, emoji:"‚ùì"},
      {title:"Offer to help take action", pts:{action:2}, emoji:"üëê"},
      {title:"Organize support from others", pts:{leadership:2}, emoji:"ü§ù"},
    ]},
    { topic:"Online Safety", title:"You see harassment online. You:", options:[
      {title:"Report and block the harasser", pts:{action:2}, emoji:"‚õî"},
      {title:"Call out the behavior respectfully", pts:{voice:2, care:1}, emoji:"üó®Ô∏è"},
      {title:"Collect evidence and advise the target", pts:{info:2, care:1}, emoji:"üìÅ"},
      {title:"Coordinate a group response", pts:{leadership:2}, emoji:"üõ°Ô∏è"},
    ]},
    { topic:"Planning", title:"When planning an event you focus on:", options:[
      {title:"Logistics and tasks", pts:{action:2}, emoji:"üóÇÔ∏è"},
      {title:"Messaging and outreach", pts:{voice:2, info:1}, emoji:"üì£"},
      {title:"Making it inclusive", pts:{care:2}, emoji:"üåà"},
      {title:"Recruiting and leading volunteers", pts:{leadership:2}, emoji:"üëë"},
    ]},
    { topic:"Research", title:"Before sharing a claim you:", options:[
      {title:"Check multiple reliable sources", pts:{info:2}, emoji:"üî¨"},
      {title:"Add context and your perspective", pts:{voice:2}, emoji:"üìù"},
      {title:"Encourage others to verify", pts:{leadership:1, info:1}, emoji:"üì¢"},
      {title:"Report if it's harmful", pts:{action:1, info:1}, emoji:"‚ö†Ô∏è"},
    ]},
    { topic:"Support", title:"A peer is being excluded. You:", options:[
      {title:"Invite them in and listen", pts:{care:2}, emoji:"ü§ó"},
      {title:"Speak up to the group", pts:{voice:2, care:1}, emoji:"üó£Ô∏è"},
      {title:"Organize an inclusive activity", pts:{leadership:2, action:1}, emoji:"üéØ"},
      {title:"Research why exclusion happens", pts:{info:2}, emoji:"üîç"},
    ]},
    { topic:"Visibility", title:"To raise awareness you prefer to:", options:[
      {title:"Create a bold public message", pts:{voice:2, leadership:1}, emoji:"üì¢"},
      {title:"Share verified facts and resources", pts:{info:2}, emoji:"üìà"},
      {title:"Run a hands-on activity", pts:{action:2}, emoji:"üõ†Ô∏è"},
      {title:"Center affected people's voices", pts:{care:2}, emoji:"üé§"},
    ]},
    { topic:"Decision", title:"When decisions are unclear, you:", options:[
      {title:"Gather facts and options", pts:{info:2}, emoji:"üìö"},
      {title:"Call a quick vote and move", pts:{action:2}, emoji:"üó≥Ô∏è"},
      {title:"Make sure everyone's heard", pts:{voice:2, care:1}, emoji:"üîÅ"},
      {title:"Lead a structured discussion", pts:{leadership:2}, emoji:"üß≠"},
    ]},
    { topic:"Follow-through", title:"After a successful action you:", options:[
      {title:"Document what worked and share", pts:{info:2, voice:1}, emoji:"üìù"},
      {title:"Celebrate and thank contributors", pts:{care:2}, emoji:"üéâ"},
      {title:"Plan the next practical step", pts:{action:2}, emoji:"üìÖ"},
      {title:"Invite others to lead the next phase", pts:{leadership:2}, emoji:"ü§ù"},
    ]},
    { topic:"Growth", title:"To get better at activism you:", options:[
      {title:"Practice speaking and feedback", pts:{voice:2}, emoji:"üéôÔ∏è"},
      {title:"Study examples and research", pts:{info:2}, emoji:"üìñ"},
      {title:"Volunteer for hands-on roles", pts:{action:2}, emoji:"üß∞"},
      {title:"Mentor or organize peers", pts:{leadership:2, care:1}, emoji:"üå±"},
    ]},
  ];

  // background gradients per question
  const BG_COLORS = [
    'radial-gradient(900px 400px at 10% 10%, rgba(255,107,107,0.12), transparent), linear-gradient(180deg,#071022,#071827)',
    'radial-gradient(900px 400px at 90% 20%, rgba(124,58,237,0.12), transparent), linear-gradient(180deg,#041226,#071022)',
    'radial-gradient(900px 400px at 50% 10%, rgba(6,182,212,0.12), transparent), linear-gradient(180deg,#071022,#04202a)',
    'radial-gradient(900px 400px at 20% 80%, rgba(255,209,102,0.12), transparent), linear-gradient(180deg,#071022,#2b1f00)',
    'radial-gradient(900px 400px at 80% 70%, rgba(74,222,128,0.12), transparent), linear-gradient(180deg,#071022,#0b2b12)',
    'radial-gradient(900px 400px at 30% 30%, rgba(255,107,107,0.10), transparent), linear-gradient(180deg,#071022,#2b0b0b)',
    'radial-gradient(900px 400px at 70% 20%, rgba(124,58,237,0.10), transparent), linear-gradient(180deg,#071022,#1a0b2b)',
    'radial-gradient(900px 400px at 50% 80%, rgba(6,182,212,0.10), transparent), linear-gradient(180deg,#071022,#00202b)',
    'radial-gradient(900px 400px at 10% 50%, rgba(255,209,102,0.10), transparent), linear-gradient(180deg,#071022,#2b1f00)',
    'radial-gradient(900px 400px at 90% 40%, rgba(74,222,128,0.10), transparent), linear-gradient(180deg,#071022,#0b2b12)',
    'radial-gradient(900px 400px at 40% 20%, rgba(255,107,107,0.08), transparent), linear-gradient(180deg,#071022,#2b0b0b)',
    'radial-gradient(900px 400px at 60% 30%, rgba(124,58,237,0.08), transparent), linear-gradient(180deg,#071022,#1a0b2b)',
    'radial-gradient(900px 400px at 20% 20%, rgba(6,182,212,0.08), transparent), linear-gradient(180deg,#071022,#00202b)',
    'radial-gradient(900px 400px at 80% 20%, rgba(255,209,102,0.08), transparent), linear-gradient(180deg,#071022,#2b1f00)',
    'radial-gradient(900px 400px at 50% 50%, rgba(74,222,128,0.08), transparent), linear-gradient(180deg,#071022,#0b2b12)',
  ];

  let currentQuestionIndex = 0;
  let scores = { voice:0, info:0, action:0, leadership:0, care:0 };

  function $(id){ return document.getElementById(id); }
  function escapeHtml(s){ return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }

  function setBackgroundForQuestion(index){
    const bg = BG_COLORS[index % BG_COLORS.length];
    document.body.style.background = bg;
  }

  function initBadges(){
    const intro = document.querySelector('.intro');
    if(!intro) return;
    let container = document.getElementById('badges');
    if(!container){
      container = document.createElement('div'); container.id='badges'; container.style.marginTop='12px';
      intro.firstElementChild.appendChild(container);
    }
    container.innerHTML = '';
    ['VOICE','INFO','ACTION','LEADERSHIP','CARE'].forEach(t=>{
      const b = document.createElement('span'); b.className='pill'; b.textContent = t; container.appendChild(b);
    });
  }

  function renderQuestion(){
    setBackgroundForQuestion(currentQuestionIndex);
    const q = QUESTIONS[currentQuestionIndex];
    $('qLabel').textContent = `Question ${currentQuestionIndex + 1}`;
    $('topicTag').textContent = q.topic;
    $('ptxt').textContent = `${currentQuestionIndex + 1} / ${QUESTIONS.length}`;
    const denom = Math.max(1, QUESTIONS.length - 1);
    const percent = Math.round((currentQuestionIndex / denom) * 100);
    $('fill').style.width = percent + '%';

    const body = $('body'); body.innerHTML = '';
    const title = document.createElement('h3'); title.className='questionTitle'; title.innerHTML = escapeHtml(q.title);
    body.appendChild(title);

    const opts = document.createElement('div'); opts.className='options';
    q.options.forEach((opt, idx)=>{
      const b = document.createElement('button'); b.type='button'; b.className='optBtn'; b.setAttribute('aria-label', opt.title);
      b.innerHTML = `<div class="optEmoji">${opt.emoji}</div><div class="optText">${escapeHtml(opt.title)}<div class="optSub"></div></div>`;
      b.addEventListener('click', ()=> selectOption(idx));
      b.addEventListener('keydown', (e)=>{ if(e.key==='Enter' || e.key===' ') { e.preventDefault(); selectOption(idx); }});
      opts.appendChild(b);
    });
    body.appendChild(opts);
    const first = opts.querySelector('.optBtn'); if(first) first.focus();
  }

  // profile descriptions (English)
  const PROFILE_DESCRIPTIONS = {
    voice: {
      title: "Voice",
      short: "You speak up clearly and confidently.",
      long: "You are skilled at communicating ideas and standing up for what matters. You help start conversations, moderate debates, and make sure voices are heard.",
      tips: ["Practice short, clear messages", "Use personal examples to connect", "Prepare respectful responses for tough moments"]
    },
    info: {
      title: "Researcher",
      short: "You check facts and verify before sharing.",
      long: "You value accuracy. You research sources, compare information, and help decisions be based on evidence.",
      tips: ["Learn to evaluate sources", "Summarize key facts in 1‚Äì2 sentences", "Share reliable links when posting"]
    },
    action: {
      title: "Doer",
      short: "You prefer practical steps that create change.",
      long: "You focus on results: organizing, executing, and solving. You turn ideas into real actions that move things forward.",
      tips: ["Break tasks into small steps", "Find allies to share the work", "Celebrate small wins"]
    },
    leadership: {
      title: "Leader",
      short: "You organize and motivate others to act.",
      long: "You coordinate teams, delegate, and keep projects on track. You inspire others to join and sustain efforts.",
      tips: ["Practice clear delegation", "Set roles and deadlines", "Ask for feedback from your team"]
    },
    care: {
      title: "Carer",
      short: "You prioritize people's wellbeing and inclusion.",
      long: "You listen, support, and create safe spaces. Your empathy helps projects stay human and sustainable.",
      tips: ["Follow up personally with peers", "Create welcoming spaces", "Balance care with healthy boundaries"]
    }
  };

  function selectOption(index){
    const q = QUESTIONS[currentQuestionIndex];
    const opt = q.options[index];
    Object.keys(opt.pts).forEach(k=>{
      if(scores.hasOwnProperty(k)) scores[k] += opt.pts[k]; else scores[k] = opt.pts[k];
    });

    if(currentQuestionIndex < QUESTIONS.length - 1){
      currentQuestionIndex++;
      renderQuestion();
    } else {
      showResults();
      celebrate();
    }
  }

  function showResults(preview=false){
    $('surveyCard').style.display = 'none';
    $('resultCard').style.display = 'block';
    $('restartBtn').style.display = 'inline-block';
    const body = $('resultBody'); body.innerHTML = '';

    if(preview){
      body.innerHTML = `<h3 style="margin-top:0;font-size:20px">Profiles (preview)</h3>
        <div class="resultGrid">
          <div class="resultItem"><strong>Voice</strong><div style="margin-top:8px;color:var(--mut)">Speak up clearly and respectfully.</div></div>
          <div class="resultItem"><strong>Researcher</strong><div style="margin-top:8px;color:var(--mut)">Verify before sharing.</div></div>
          <div class="resultItem"><strong>Doer</strong><div style="margin-top:8px;color:var(--mut)">Take practical steps.</div></div>
          <div class="resultItem"><strong>Leader</strong><div style="margin-top:8px;color:var(--mut)">Organize and motivate.</div></div>
          <div class="resultItem"><strong>Carer</strong><div style="margin-top:8px;color:var(--mut)">Support and include others.</div></div>
        </div>`;
      addResultActions();
      return;
    }

    const entries = Object.entries(scores).sort((a,b)=> b[1]-a[1]);
    const grid = document.createElement('div'); grid.className='resultGrid';
    entries.forEach(([k,v])=>{
      const desc = PROFILE_DESCRIPTIONS[k];
      const item = document.createElement('div'); item.className='resultItem';
      item.innerHTML = `<div style="display:flex;align-items:center;gap:12px">
          <div style="width:64px;height:64px;border-radius:12px;background:linear-gradient(90deg,var(--accent2),var(--accent3));display:grid;place-items:center;font-weight:900;color:#071022;font-size:22px">${desc.title.charAt(0)}</div>
          <div>
            <strong style="font-size:18px">${escapeHtml(desc.title)}</strong>
            <div style="color:var(--mut);margin-top:6px;font-weight:700">${escapeHtml(desc.short)}</div>
          </div>
        </div>
        <div style="margin-top:12px;color:var(--mut)">${escapeHtml(desc.long)}</div>
        <div class="barInner"><div class="barFill" style="width:${Math.min(100, v*10)}%"></div></div>
        <div style="margin-top:10px;font-weight:800">Score: ${v} pts</div>
        <div style="margin-top:10px"><strong>Practical tips</strong>
          <ul style="margin:8px 0 0 18px;color:var(--mut)">
            ${desc.tips.map(t => `<li>${escapeHtml(t)}</li>`).join('')}
          </ul>
        </div>`;
      grid.appendChild(item);
    });
    body.appendChild(grid);

    const top1 = entries[0];
    const top2 = entries[1];
    if(top1){
      const rec = document.createElement('div');
      rec.style.marginTop='18px'; rec.style.padding='16px'; rec.style.borderRadius='12px';
      rec.style.background='linear-gradient(90deg, rgba(124,58,237,0.06), rgba(6,182,212,0.03))';
      rec.innerHTML = `<strong style="font-size:18px">Quick 3-step plan</strong>
        <div style="margin-top:10px;color:var(--mut)">
          1. Use your strength <strong style="text-transform:capitalize">${escapeHtml(top1[0])}</strong> to lead a small action (e.g., one meeting or an informative post).<br>
          2. Complement it with <strong style="text-transform:capitalize">${escapeHtml(top2 ? top2[0] : 'info')}</strong> to sharpen the approach (e.g., add data or recruit support).<br>
          3. Share what you learned with your group in 5 minutes.
        </div>`;
      body.appendChild(rec);
    }

    addResultActions();
  }

  function addResultActions(){
    const body = $('resultBody');
    const actions = document.createElement('div'); actions.className='actionsRow';
    const copyBtn = document.createElement('button'); copyBtn.className='copyBtn'; copyBtn.textContent='Copy results';
    copyBtn.addEventListener('click', copyResults);
    actions.appendChild(copyBtn);
    body.appendChild(actions);
  }

  function copyResults(){
    const entries = Object.entries(scores).sort((a,b)=> b[1]-a[1]);
    let text = 'Youth Activism ‚Äî Results\n';
    entries.forEach(([k,v])=> text += `${k}: ${v}\n`);
    const top = entries[0]; if(top) text += `Next step: try a small action using ${top[0]}\n`;
    navigator.clipboard?.writeText(text).then(()=> alert('Results copied to clipboard')).catch(()=> alert('Unable to copy automatically.'));
  }

  function resetSurvey(){
    currentQuestionIndex = 0;
    scores = { voice:0, info:0, action:0, leadership:0, care:0 };
    $('resultCard').style.display = 'none';
    $('surveyCard').style.display = 'block';
    $('restartBtn').style.display = 'none';
    renderQuestion();
    window.scrollTo({top:0,behavior:'smooth'});
  }

  function previewProfiles(){
    $('surveyCard').style.display = 'none';
    showResults(true);
    window.scrollTo({top:0,behavior:'smooth'});
  }

  function celebrate(){
    const conf = $('confetti'); conf.innerHTML=''; conf.style.display='block';
    const colors = ['#ff6b6b','#7c3aed','#06b6d4','#ffd166','#4ade80'];
    for(let i=0;i<40;i++){
      const el = document.createElement('div');
      el.style.position='absolute';
      el.style.left = Math.random()*100 + '%';
      el.style.top = '-10%';
      el.style.width = (8+Math.random()*12)+'px';
      el.style.height = el.style.width;
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      el.style.opacity = 0.95;
      el.style.borderRadius = '3px';
      el.style.transform = `rotate(${Math.random()*360}deg)`;
      el.style.transition = `transform 1.6s linear, top 1.6s cubic-bezier(.2,.9,.2,1), opacity 1.6s linear`;
      conf.appendChild(el);
      setTimeout(()=> {
        el.style.top = (60 + Math.random()*40) + '%';
        el.style.transform = `translateY(0) rotate(${Math.random()*720}deg)`;
        el.style.opacity = 0.9;
      }, 20 + i*10);
      setTimeout(()=> { el.style.opacity = 0; }, 1800 + i*10);
    }
    setTimeout(()=> { conf.style.display='none'; conf.innerHTML=''; }, 2600);
  }

  // wire events
  $('startBtn').addEventListener('click', ()=>{
    currentQuestionIndex = 0;
    scores = { voice:0, info:0, action:0, leadership:0, care:0 };
    $('surveyCard').style.display = 'block';
    $('resultCard').style.display = 'none';
    $('restartBtn').style.display = 'none';
    renderQuestion();
    window.scrollTo({top:0,behavior:'smooth'});
  });
  $('previewBtn').addEventListener('click', previewProfiles);
  $('restartBtn').addEventListener('click', resetSurvey);

  // initialize
  (function init(){ initBadges(); $('ptxt').textContent = `0 / ${QUESTIONS.length}`; })();
</script>
</body>
</html>
